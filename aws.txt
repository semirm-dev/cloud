Region -> VPC -> Subnet -> Route table -> Security Group -> EC2

Subnet IP range is created from VPC CIDR host part
Same subnet can not be shared across AZs

Created on VPC:
- subnets
- route tables
- internet gateways
- nat gateways

Subnet:
- associated with: route table and nacl

Route table:
- determine where traffic from subnet will go (destination)
- one route table can be used in many subnets
- one subnet can be in only one route table
- local route table is for VPC destination

NACL:
- firewall on subnet
- can be associated with multiple subnets
- stateless
- outbound/response not automatically enabled

Internet Gateway: 
- internet access for instances with public IP
- one per VPC

NAT Gateway: 
- internet access for instances without public IP
- connection between subnets
- sits on public subnet
- allow private subnet to access public subnet which has access to internet

Security Group: 
- firewall on Network Interface which is attached to EC2
- multiple Network Interfaces can be attached to EC2
- stateful
- outbound/response automatically enabled but only from client/internet

VPC peering: 
- connection between VPCs
- one to one connection
- can be harder to manage with many VPCs
- manually connect all VPCs
- VPC CIDR can not overlap between VPCs

Transit Gateway: 
- connection between VPCs
- many VPC connect to one endpoint
- can be easier to manage
- acts like router between VPCs

Direct Connect: 
- connection between corp data center and VPC
- connection goes to VGW on VPC

Private Link: 
- connection between only selected AWS services in different VPCs
- connection goes to VPC Endpoint

VPC Endpoint:
- connect to AWS public services through private ip
- Interface -> api gateway, cloudformation, cloudwatch...
- Gateway -> only S3 and DynamoDB